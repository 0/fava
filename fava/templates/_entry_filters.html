{% set time_filter = g.filters['time'] %}
{% set tag_filter = g.filters['tag'] %}
{% set account_filter = g.filters['account'] %}
{% set payee_filter = g.filters['payee'] %}
<form id="filter-form" action="{{ url_for_current() }}" method="GET">
    <ul class="topmenu">
        <li>
            <input name="time" type="text" list='years' value='{{ time_filter or '' }}' placeholder="{{ _('by time') }}">
            <button type="button" tabindex="-1">x</button>
            <datalist id="years">
            {% for year in api.active_years|reverse %}
                <option>{{ year }}</option>
            {% endfor %}
            </datalist>
        </li>
        <li>
            <input name="tag" type="text" list='tags' value='{{ tag_filter or '' }}' placeholder="{{ _('by tag') }}">
            <button type="button" tabindex="-1">x</button>
            <datalist id="tags">
            {% for tag in api.active_tags %}
                <option>{{ tag }}</option>
            {% endfor %}
            </datalist>
        </li>
        <li>
            <input name="account" type="text" list='accounts' value='{{ account_filter or '' }}' placeholder="{{ _('by account') }}">
            <button type="button" tabindex="-1">x</button>
            <datalist id="accounts">
            {% for account in api.all_accounts %}
                <option>{{ account }}</option>
            {% endfor %}
            </datalist>
        </li>
        <li>
            <input name="payee" type="text" list='payees' value='{{ payee_filter or '' }}' placeholder="{{ _('by payee') }}">
            <button type="button" tabindex="-1">x</button>
            <datalist id="payees">
            {% for payee in api.active_payees %}
                <option>{{ payee }}</option>
            {% endfor %}
            </datalist>
        </li>
        <li>
            <input type="submit" value='filter'>
        </li>
    </ul>
</form>
